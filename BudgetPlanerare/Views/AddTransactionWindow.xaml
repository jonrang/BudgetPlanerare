<Window x:Class="BudgetPlanerare.Views.AddTransactionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:BudgetPlanerare.Views"
        mc:Ignorable="d"
        Title="Ny Transaktion" Height="500" Width="400"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">

    <Window.Resources>
        <CollectionViewSource x:Key="GroupedCategories" Source="{Binding Categories}">
            <CollectionViewSource.GroupDescriptions>
                <PropertyGroupDescription PropertyName="GroupName"/>
            </CollectionViewSource.GroupDescriptions>
        </CollectionViewSource>
    </Window.Resources>

    <Border Padding="20" Background="{StaticResource BackgroundLight}">
        <StackPanel>
            <TextBlock Text="Lägg till transaktion" FontSize="20" 
                       FontWeight="Bold" Margin="0,0,0,20" 
                       Foreground="{StaticResource PrimaryDark}"/>
            
            <TextBlock Text="Beskrivning"/>
            <TextBox Text="{Binding Name}" Height="30" Margin="0,5,0,15" Padding="5"/>

            <TextBlock Text="Belopp (kr)"/>
            <TextBox Text="{Binding Amount}" Height="30" Margin="0,5,0,15" Padding="5"/>

            <TextBlock Text="Kategori"/>
            <ComboBox ItemsSource="{Binding Categories}"
                      SelectedItem="{Binding SelectedCategory}"
                      DisplayMemberPath="Name"
                      Height="30" Margin="0,5,0,15">
                
            </ComboBox>

            <TextBlock Text="Datum"/>
            <DatePicker SelectedDate="{Binding Date}" Height="30" Margin="0,5,0,15"/>

            <TextBlock Text="Återkommande?"/>
            <ComboBox ItemsSource="{Binding Frequencies}"
                      SelectedItem="{Binding SelectedFrequency}"
                      Height="30" Margin="0,5,0,25"/>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Avbryt" Command="{Binding CancelCommand}"
                        Width="100" Height="35" Margin="0,0,10,0" Background="LightGray"/>

                <Button Content="Spara" Command="{Binding SaveCommand}"
                        Width="100" Height="35"
                        Background="{StaticResource IncomeGreen}" Foreground="White" FontWeight="Bold"/>
            </StackPanel>
        </StackPanel>
    </Border>

</Window>
